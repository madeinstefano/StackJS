if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length>>>0;var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}var Stack=(function(){var d=[];var f=[];var c=[];var b=function(g){return f.indexOf(g)===-1};var e=function(){this.id;this.obj;this.date};e.prototype.constructor=e;var a=function(l){var g=[];for(var k=0,h=l.length;k<h;k++){g.push(l[k])}return g};return{put:function(h,k,i){if(typeof k!=="string"){return false}if(!b(k)&&i==="nooverwrite"){return false}var g=new e();g.id=k,g.obj=h,g.date=new Date();var j=f.indexOf(k);if(j>-1){d[j]=g}else{var j=d.push(g);f[j-1]=k}return true},get:function(h){if(typeof h==="string"){var g=f.indexOf(h);if(g>=0){return d[g].obj}}return null},save:function(g){c.push({label:g,stack:a(d),map:a(f)});return null},restore:function(h){if(typeof h!=="string"&&typeof h!=="number"){if(c.length>0){d=c[c.length-1].stack;f=c[c.length-1].map;c.length-=1;return true}}if(typeof h==="string"){for(var j=0,g=c.length;j<g;j++){if(c[j].label===h){d=c[c.length-1].stack;f=c[c.length-1].map;c.length=j;return true}}}if(typeof h==="number"){if(c[h]){d=c[h].stack;f=c[h].map;c.length=h;return true}}return false},exile:function(i){if(typeof i==="string"){var h=f.indexOf(i);if(h>=0){var g=d[h].obj;f.splice(h,1);d.splice(h,1);return g}}return null},remove:function(){var k=0;for(var h=0,g=arguments.length;h<g;h++){if(typeof arguments[h]==="string"){var m=f.indexOf(arguments[h]);if(m>=0){var j=d[m].obj;f.splice(m,1);d.splice(m,1);k++}}}return k},clear:function(){d.length=0;f.length=0;return null},reset:function(){d.length=0;f.length=0;c.length=0;return null},size:function(){return d.length}}})();